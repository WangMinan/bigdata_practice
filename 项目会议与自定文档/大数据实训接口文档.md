<div align="center">
    <h1>
        大数据实训接口文档
    </h1>
</div>

## 0. 前置说明

具体接口如下所示

+ ### 3.1 区划角度

  + 西安各行政区划餐饮商户数量对比
  + 西安各行政区划餐饮历史评价数量对比
  + 西安各行政区划各商户类别占比
  + 西安各行政区划餐饮消费人均价格分布

  ### 3.2 餐饮类别角度

  + 各类别餐饮店铺总数

  + 各类别餐饮店铺人均价格比较
  + 各类别餐饮店铺历史评价数量比较

  ### 3.3 本站信息总览

  + 本站餐饮信息全局检索
  + 本站餐饮商户分类检索
  + 本站餐饮商户分区划检索
  + 本站餐饮商户分类、地区、人均组合筛选

  ### 3.4 用户角度 

  + 根据定位和选项进行餐饮为客户做智能推荐(组推荐)

    

## 1. 接口说明

### 接口总说明

跨域由后端负责解决

开发环境下baseURL:  http://127.0.0.1:8080

返回**通用响应结构**:

msg与result为可选属性

+ 正常响应

  ```json
  {
  	"code":200
  }
  ```

  ```json
  {
  	"code":200,
  	"msg":"success",
  	"result":[]
  }
  ```

+ 异常响应

  ```json
  {
  	"code":500,
  	"msg":"未知异常，请联系管理员"
  }
  ```

### 1.1 区划角度

#### 1.1.1 西安各行政区划餐饮商户数量对比

+ 请求路径  /district/merchantNumber

+ 请求方法 GET

+ 请求参数

  空

+ 响应数据

  ```json
  {
    "result": {
      "灞桥区": 1066,
      "临潼区": 398,
      "碑林区": 2264,
      "雁塔区": 2746,
      "莲湖区": 1682,
      "高陵区": 350,
      "长安区": 1454,
      "蓝田县": 109,
      "高新区": 2217,
      "新城区": 670,
      "未央区": 3617,
      "周至县": 115,
      "阎良区": 141,
      "鄠邑区": 209
    },
    "code": 200
  }
  ```

#### 1.1.2 西安各行政区划餐饮历史评价数量对比

+ 请求路径  /district/flow

+ 请求方法 GET

+ 请求参数

  空

+ 响应数据

  ```json
  {
    "result": {
      "灞桥区": 296058,
      "临潼区": 161880,
      "碑林区": 1023266,
      "雁塔区": 1179712,
      "莲湖区": 702392,
      "高陵区": 90000,
      "长安区": 530203,
      "蓝田县": 31557,
      "高新区": 660835,
      "新城区": 401203,
      "未央区": 1334861,
      "周至县": 31736,
      "阎良区": 42388,
      "鄠邑区": 93667
    },
    "code": 200
  }
  ```

#### 1.1.3 西安各行政区划各商户类别占比

+ 请求路径  /district/merchantType

+ 请求方法 GET

+ 请求参数

  空

+ 响应数据

  ```json
  {
    "result": [
      {
        "灞桥区": {
          "自助餐": 21,
          "蒙餐": 0,
          "海鲜": 27,
          "创意菜": 2,
          "台湾_客家菜": 2,
          "烧烤烤肉": 4,
          "新疆菜": 13,
          "中式烧烤_烤串": 46,
          "其他美食": 28,
          "川湘菜": 40,
          "代金券": 23,
          "聚餐宴请": 44,
          "西餐": 18,
          "云贵菜": 1,
          "汤_粥_炖菜": 5,
          "咖啡酒吧": 0,
          "江浙菜": 6,
          "日韩料理": 10,
          "西北菜": 41,
          "蛋糕甜点": 0,
          "东北菜": 30,
          "京菜鲁菜": 0,
          "素食": 0,
          "火锅": 32,
          "香锅烤鱼": 34,
          "粤菜": 14,
          "小吃快餐": 26,
          "东南亚菜": 0
        }
      },
      {
        "临潼区": {
          "自助餐": 17,
          "蒙餐": 0,
          "海鲜": 17,
          "创意菜": 0,
          "台湾_客家菜": 0,
          "烧烤烤肉": 2,
          "新疆菜": 11,
          "中式烧烤_烤串": 15,
          "其他美食": 23,
          "川湘菜": 16,
          "代金券": 10,
          "聚餐宴请": 22,
          "西餐": 10,
          "云贵菜": 1,
          "汤_粥_炖菜": 3,
          "咖啡酒吧": 0,
          "江浙菜": 1,
          "日韩料理": 3,
          "西北菜": 24,
          "蛋糕甜点": 0,
          "东北菜": 11,
          "京菜鲁菜": 0,
          "素食": 0,
          "火锅": 13,
          "香锅烤鱼": 16,
          "粤菜": 1,
          "小吃快餐": 4,
          "东南亚菜": 0
        }
      },
    ],
    "code": 200
  }
  ```

#### 1.1.4 西安各行政区划餐饮消费人均价格分布

+ 请求路径  /district/avgPrice

+ 请求方法 GET

+ 请求参数

  空

+ 响应数据

  ```json
  {
    "result": {
      "灞桥区": 45,
      "临潼区": 39,
      "碑林区": 49,
      "雁塔区": 59,
      "莲湖区": 45,
      "高陵区": 35,
      "长安区": 45,
      "蓝田县": 32,
      "高新区": 61,
      "新城区": 43,
      "未央区": 48,
      "周至县": 39,
      "阎良区": 43,
      "鄠邑区": 42
    },
    "code": 200
  }
  ```

### 1.2 类别角度

#### 1.2.1 各类别餐饮店铺总数

+ 请求路径  /type/number

+ 请求方法 GET

+ 请求参数

  空

+ 响应数据

  ```json
  {
    "result": {
      "自助餐": 275,
      "蒙餐": 0,
      "海鲜": 323,
      "创意菜": 18,
      "台湾_客家菜": 13,
      "烧烤烤肉": 92,
      "新疆菜": 167,
      "中式烧烤_烤串": 566,
      "其他美食": 404,
      "川湘菜": 607,
      "代金券": 430,
      "聚餐宴请": 403,
      "西餐": 274,
      "云贵菜": 7,
      "汤_粥_炖菜": 42,
      "咖啡酒吧": 0,
      "江浙菜": 51,
      "日韩料理": 228,
      "西北菜": 584,
      "蛋糕甜点": 0,
      "东北菜": 303,
      "京菜鲁菜": 0,
      "素食": 8,
      "火锅": 605,
      "香锅烤鱼": 318,
      "粤菜": 166,
      "小吃快餐": 528,
      "东南亚菜": 20
    },
    "code": 200
  }
  ```

#### 1.2.2 各类别餐饮店铺人均价格比较

+ 请求路径  /type/avgPrice

+ 请求方法 GET

+ 请求参数

  空

+ 响应数据

  ```json
  {
    "result": {
      "自助餐": 93,
      "蒙餐": 76,
      "海鲜": 91,
      "创意菜": 76,
      "台湾_客家菜": 55,
      "烧烤烤肉": 68,
      "新疆菜": 33,
      "中式烧烤_烤串": 56,
      "其他美食": 66,
      "川湘菜": 51,
      "代金券": 69,
      "聚餐宴请": 74,
      "西餐": 82,
      "云贵菜": 76,
      "汤_粥_炖菜": 42,
      "咖啡酒吧": 0,
      "江浙菜": 118,
      "日韩料理": 104,
      "西北菜": 59,
      "蛋糕甜点": 0,
      "东北菜": 49,
      "京菜鲁菜": 0,
      "素食": 73,
      "火锅": 69,
      "香锅烤鱼": 48,
      "粤菜": 111,
      "小吃快餐": 33,
      "东南亚菜": 101
    },
    "code": 200
  }
  ```

#### 1.2.3 各类别餐饮店铺历史评价数量比较

+ 请求路径  /type/flow

+ 请求方法 GET

+ 请求参数

  空

+ 响应数据

  ```json
  {
    "result": {
      "自助餐": 398,
      "蒙餐": 493,
      "海鲜": 674,
      "创意菜": 2106,
      "台湾_客家菜": 29,
      "烧烤烤肉": 1753,
      "新疆菜": 2034,
      "中式烧烤_烤串": 1640,
      "其他美食": 614,
      "川湘菜": 1078,
      "代金券": 616,
      "聚餐宴请": 609,
      "西餐": 399,
      "云贵菜": 1966,
      "汤_粥_炖菜": 307,
      "咖啡酒吧": 342,
      "江浙菜": 1963,
      "日韩料理": 366,
      "西北菜": 2069,
      "蛋糕甜点": 740,
      "东北菜": 425,
      "京菜鲁菜": 153,
      "素食": 16,
      "火锅": 1849,
      "香锅烤鱼": 1807,
      "粤菜": 250,
      "小吃快餐": 694,
      "东南亚菜": 1963
    },
    "code": 200
  }
  ```

### 1.3 本站信息总览

#### 1.3.1 搜索框输入时获取搜索建议

+ 请求路径  /suggestion

+ 请求方法 POST

  是的参数里面有很多中文我怀疑GET请求要出大问题 所以用POST

+ 请求参数

  | 参数名  | 参数说明               | 参数要求 |
  | ------- | ---------------------- | -------- |
  | keyword | 用户当前输入框中的内容 | 不能为空 |

+ 响应数据

  10条输入联想，若用户输入'kao'

  ```json
  {
    "result": [
      "65烤包子（赛格店）",
      "65烤包子（钟楼店）",
      "66烤吧",
      "烤博士古今地炉烤肉（薛家寨店）",
      "烤博士古今地炉烤肉（钟楼店）",
      "烤吉美",
      "烤来烤去·小铝盆烤牛肉",
      "烤点烧烤",
      "烤锦记北京烤鸭",
      "靠边沾延安沾沾"
    ],
    "code": 200
  }
  ```

#### 1.3.2 总体查询

+ 请求路径  /query

+ 请求方法 POST

  是的参数里面有很多中文我怀疑GET请求要出大问题 所以用POST

+ 请求参数

  | 参数名           | 参数说明               | 参数要求   |
  | ---------------- | ---------------------- | ---------- |
  | pageNum          | 当前页码               | 必须不为空 |
  | pageSize         | 页面记录数             | 必须不为空 |
  | query            | 用户输入的搜索内容     | 可以为空   |
  | type             | 用户搜索的店铺类型     | 可以为空   |
  | businessDistrict | 用户选择的商圈名称     | 可以为空   |
  | bottomPrice      | 用户选择的最低人均价格 | 可以为空   |
  | topPrice         | 用户选择的最高人均价格 | 可以为空   |

  bottomPrice与topPrice必须同时为空或不为空

+ 响应数据

  其中total为店铺总数

  ```json
  {
  	"code":200,
  	"result":{
  		"total": 500,
  		"merchants":[
              {
                  "poiId": "187762052",
                  "frontImg": "http://p0.meituan.net/600.600/biztone/1943571260_1630843778956.jpeg",
                  "title": "奥赛奥章鱼水煎肉（momopark店）",
                  "category": "烧烤烤肉",
                  "district": "雁塔区",
                  "businessDistrict": "小寨",
                  "avgScore": 4,
                  "allCommentNum": 2912,
                  "avgPrice": 65,
                  "suggestion": [
                    "烧烤烤肉",
                    "小寨",
                    "奥赛奥章鱼水煎肉（momopark店）"
                  ],
                  "location": "34.221649,108.932616",
                  "distance": null
              },
              {
                  ...
              }
          ]
  	}
  }
  ```

### 1.4 用户角度 

#### 1.4.1 智能推荐

类似于Google的I Feel Lucky的按钮

需要一个新页面 仅提供一个输入框 请用户输入关键词即可

+ 请求路径  /smartSuggestion

+ 请求方法 POST

  是的参数里面有很多中文我怀疑GET请求要出大问题 所以用POST

+ 请求参数

  | 参数名    | 参数说明         | 参数要求 |
  | --------- | ---------------- | -------- |
  | keyword   | 用户输入的关键词 | 不能为空 |
  | latitude  | 用户所在纬度     | 可以为空 |
  | longitude | 用户所在经度     | 可以为空 |

+ 响应数据

  是一个包含10家店的列表

  ```json
  {
  	"code":200,
  	"result":{
  		"merchants":[
              {
                  "poiId": "100076972",
                  "frontImg": "http://p1.meituan.net/600.600/merchant/f8554820dad0944e9f2cdae5b9ea518810548692.png",
                  "title": "重庆邓波绝味鱼庄",
                  "category": "其他美食,川湘菜,香锅烤鱼",
                  "district": "长安区",
                  "businessDistrict": "秦岭沿线",
                  "avgScore": 4.0,
                  "allCommentNum": 321,
                  "avgPrice": 180
              },
              {
                  ...
              }
          ]
  	}
  }
  ```

