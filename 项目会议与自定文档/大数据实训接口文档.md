<div align="center">
    <h1>
        大数据实训接口文档
    </h1>
</div>

## 0. 前置说明

具体接口如下所示

+ ### 3.1 区划角度

  + 西安各行政区划餐饮商户数量对比
  + 西安各行政区划餐饮历史评价数量对比
  + 西安各行政区划各商户类别占比
  + 西安各行政区划餐饮消费人均价格分布

  ### 3.2 餐饮类别角度

  + 各类别餐饮店铺总数

  + 各类别餐饮店铺人均价格比较
  + 各类别餐饮店铺历史评价数量比较

  ### 3.3 本站信息总览

  + 本站餐饮信息全局检索
  + 本站餐饮商户分类检索
  + 本站餐饮商户分区划检索
  + 本站餐饮商户分类、地区、人均组合筛选

  ### 3.4 用户角度 

  + 根据定位和选项进行餐饮为客户做智能推荐(组推荐)

    

## 1. 接口说明

### 接口总说明

跨域由后端负责解决

开发环境下baseURL:  http://127.0.0.1:8080

返回**通用响应结构**:

msg与result为可选属性

+ 正常响应

  ```json
  {
  	"code":200
  }
  ```

  ```json
  {
  	"code":200,
  	"msg":"success",
  	"result":[]
  }
  ```

+ 异常响应

  ```json
  {
  	"code":500,
  	"msg":"未知异常，请联系管理员"
  }
  ```

### 1.1 区划角度

#### 1.1.1 西安各行政区划餐饮商户数量对比

+ 请求路径  /district/merchantNumber

+ 请求方法 GET

+ 请求参数

  空

+ 响应数据

  ```json
  {
  	"code":200,
  	"msg":"success",
  	"result":[
  		{
  			"长安区":1380
  		},
  		{
  			...
  		}
  	]
  }
  ```

#### 1.1.2 西安各行政区划餐饮历史评价数量对比

+ 请求路径  /district/flow

+ 请求方法 GET

+ 请求参数

  空

+ 响应数据

  ```json
  {
  	"code":200,
  	"msg":"success",
  	"result":[
  		{
  			"长安区":1380
  		},
  		{
  			...
  		}
  	]
  }
  ```

#### 1.1.3 西安各行政区划各商户类别占比

+ 请求路径  /district/merchantType

+ 请求方法 GET

+ 请求参数

  空

+ 响应数据

  ```json
  {
  	"code":200,
  	"msg":"success",
  	"result":[
  		{
  			"长安区":{
  				"西北菜": 150,
  				"火锅": 60,
  				...
  			},
  			{
  				...
  			}
  		},
  		{
  			...
  		}
  	]
  }
  ```

#### 1.1.4 西安各行政区划餐饮消费人均价格分布

+ 请求路径  /district/avgPrice

+ 请求方法 GET

+ 请求参数

  空

+ 响应数据

  ```json
  {
  	"code":200,
  	"msg":"success",
  	"result":[
  		{
  			"长安区":20
          },
          {
              ...
          }
  	]
  }
  ```

### 1.2 类别角度

#### 1.2.1 各类别餐饮店铺总数

+ 请求路径  /type/number

+ 请求方法 GET

+ 请求参数

  空

+ 响应数据

  ```json
  {
  	"code":200,
  	"msg":"success",
  	"result":[
  		{
  			"火锅":1500
          },
          {
              ...
          }
  	]
  }
  ```

#### 1.2.2 各类别餐饮店铺人均价格比较

+ 请求路径  /type/avgPrice

+ 请求方法 GET

+ 请求参数

  空

+ 响应数据

  ```json
  {
  	"code":200,
  	"msg":"success",
  	"result":[
  		{
  			"火锅":20
          },
          {
              ...
          }
  	]
  }
  ```

#### 1.2.3 各类别餐饮店铺历史评价数量比较

+ 请求路径  /type/flow

+ 请求方法 GET

+ 请求参数

  空

+ 响应数据

  ```json
  {
  	"code":200,
  	"msg":"success",
  	"result":[
  		{
  			"火锅":1380
  		},
  		{
  			...
  		}
  	]
  }
  ```

### 1.3 本站信息总览

#### 1.3.1 搜索框输入时获取搜索建议

+ 请求路径  /suggestion

+ 请求方法 POST

  是的参数里面有很多中文我怀疑GET请求要出大问题 所以用POST

+ 请求参数

  | 参数名  | 参数说明               | 参数要求 |
  | ------- | ---------------------- | -------- |
  | keyword | 用户当前输入框中的内容 | 不能为空 |

+ 响应数据

  10条输入联想，若用户输入'huo'

  ```json
  {
      "code":200,
  	"msg":"success",
  	"result":[
  		"火锅","哥老官火锅",...		
  	]
  }
  ```

#### 1.3.2 总体查询

+ 请求路径  /query

+ 请求方法 POST

  是的参数里面有很多中文我怀疑GET请求要出大问题 所以用POST

+ 请求参数

  | 参数名           | 参数说明               | 参数要求   |
  | ---------------- | ---------------------- | ---------- |
  | pageNum          | 当前页码               | 必须不为空 |
  | pageSize         | 页面记录数             | 必须不为空 |
  | query            | 用户输入的搜索内容     | 可以为空   |
  | type             | 用户搜索的店铺类型     | 可以为空   |
  | businessDistrict | 用户选择的商圈名称     | 可以为空   |
  | bottomPrice      | 用户选择的最低人均价格 | 可以为空   |
  | topPrice         | 用户选择的最高人均价格 | 可以为空   |

  bottomPrice与topPrice必须同时为空或不为空

+ 响应数据

  其中total为店铺总数

  ```json
  {
  	"code":200,
  	"result":{
  		"total": 500,
  		"merchants":[
              {
                  "poiId": "100076972",
                  "frontImg": "http://p1.meituan.net/600.600/merchant/f8554820dad0944e9f2cdae5b9ea518810548692.png",
                  "title": "重庆邓波绝味鱼庄",
                  "category": "其他美食,川湘菜,香锅烤鱼",
                  "district": "长安区",
                  "businessDistrict": "秦岭沿线",
                  "avgScore": 4.0,
                  "allCommentNum": 321,
                  "avgPrice": 180
              },
              {
                  ...
              }
          ]
  	}
  }
  ```

### 1.4 用户角度 

#### 1.4.1 智能推荐

类似于Google的I Feel Lucky的按钮

需要一个新页面 仅提供一个输入框 请用户输入关键词即可

+ 请求路径  /smartSuggestion

+ 请求方法 POST

  是的参数里面有很多中文我怀疑GET请求要出大问题 所以用POST

+ 请求参数

  | 参数名    | 参数说明         | 参数要求 |
  | --------- | ---------------- | -------- |
  | keyword   | 用户输入的关键词 | 不能为空 |
  | latitude  | 用户所在纬度     | 可以为空 |
  | longitude | 用户所在经度     | 可以为空 |

+ 响应数据

  是一个包含10家店的列表

  ```json
  {
  	"code":200,
  	"result":{
  		"merchants":[
              {
                  "poiId": "100076972",
                  "frontImg": "http://p1.meituan.net/600.600/merchant/f8554820dad0944e9f2cdae5b9ea518810548692.png",
                  "title": "重庆邓波绝味鱼庄",
                  "category": "其他美食,川湘菜,香锅烤鱼",
                  "district": "长安区",
                  "businessDistrict": "秦岭沿线",
                  "avgScore": 4.0,
                  "allCommentNum": 321,
                  "avgPrice": 180
              },
              {
                  ...
              }
          ]
  	}
  }
  ```

  